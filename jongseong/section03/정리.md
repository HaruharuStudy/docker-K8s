# 데이터 관리 및 볼륨으로 작업하기

## 모듈 소개

- 이미지와 컨테이너 내부의 데이터를 관리하는 방법을 알아본다
- 이미지와 컨테이너가 어떻게 데이터를 관리하는지 살펴본다.
- 도커에 내장된 볼륨이라는 개념에 대해 알아본다.

## 데이터 카테고리 / 다양한 종류의 데이터 이해하기
- 이미지에 복사하면 더 이상 변경할 수 없다
- 이미지는 읽기 전용이기 떄문에 변경된 사항을 반영하려면 다시 빌드해야 한다
- 컨테이너에서 생성된 레이어는 쓰기 권한이 있으므로, 파일 시스템을 조작할 수 있다.
- 컨테이너 안에서 생성되는 파일 등은 컨테이너 안에만 있다 -> 컨테이너가 삭제되면 사라진다
- 컨테이너가 삭제되도 파일을 보존하기 위해 볼륨을 이용한다

Quiz. 볼륨을 사용하는 이유는

## 데모 앱 구축 & 이해하기
- 컨테이너로 실행된 앱에서 저장된 파일은 호스트 머신에 저장되지 않는다.

## 문제 이해하기
- 컨테이너가 삭제되면 저장된 데이터가 사라진다.

## 볼륨 소개하기

- 볼륨은 데이터를 유지하도록 도와준다.
- 볼륨은 호스트 머신의 폴더이다. 컨테이너로 매핑되는 것을 의미함
- 볼륨은 컨테이너가 종료된 경우에도 지속되면 계속 존재한다.
- 컨테이너는 볼륨에 데이터를 읽고 쓸 수 있다.

## 처 번째 시도, 실패한 시도

- 볼륨 추가 

## 명명된 볼륨으로 구조하기

- 도커에는 볼륨과 바인드 마운트 두 가지의 호스트 머신과 도커 컨테이너를 매핑하는 방법이 있다.
- 익명 볼륨(볼륨 이름을 지정하지 않은 것)은 도커가 관리하므로, 컨테이너가 삭제되면 볼륨도 같이 삭제된다.
- 명명된 볼륨을 사용하면 컨테이너가 종료되더라도 볼륨은 존재한다.
- 명명된 볼륨은 하나의 컨테이너에만 연결되지는 않는다.
- 명명된 볼륨은 컨테이너를 실행할 때 볼륨 이름을 명시한다. (-v 옵션)
  - `docker run -dit -p 8000:80 --name section03 -v section03:/api/files section03`
- `docker volume ls` 명령어로 볼륨을 확인할 수 있다.
- `docker volume prune` 명령어로 사용하지 않는 볼륨을 삭제할 수 있다.

Quiz. 명명된 볼륨과 익명 볼륨의 차이

## 바인드 마운트 시작하기(코드 공유)

-